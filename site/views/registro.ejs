<!DOCTYPE html>
<html lang="es">
<%- include('partials/head', {title: 'Inicio'}) %>
<main class="">
    <div class="container">
        <div aria-label="breadcrumb rounded-0 ">
            <ol class="breadcrumb pl-0 bg-white">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Login</a></li>
                <li class="breadcrumb-item active" aria-current="page">Nuevo Usuario</li>
            </ol>
        </div>
    </div> 
    <section class="container registro">
        <% if (typeof errors != 'undefined') { %>
            <% for (let i = 0; i < errors.length; i++) { %>
                <div class="alert alert-danger" role="alert">
                    <%=errors[i].msg%>
                </div>
                <% } %>
                <% } %>
                <!--PARA PODER USAR EXPRESS-VALIDATOR EN VEZ DE LA VALIDACION DEL FORMULARIO TUVE QUE ELIMINAR "needs-validation" DE LA CLASS -->       
                <form action="/users/create" method="post" class="mt-3 form-new-user">
                    <h2 class="c-acc">Crear cuenta</h2>
                    <div class=" datos-usuario">
                        <h5 class="acc-subs">Datos del usuario</h5>
                        <div class="form-row flex-column">
                            <div class="col-12 col-md-6 mb-6">
                                <label for="name"></label>
                                <input name="name" type="text" class="form-control" id="name" placeholder="Nombre">
                            </div>
                            <div class="col-md-6 mb-6">
                                <label for="sName"></label>
                                <input name="sName" type="text" class="form-control" id="sName" placeholder="Apellido">
                            </div>   
                        </div>   
                    </div>
                    <div class=" info-cuenta">
                        <h5 class="acc-subs">Información de la cuenta</h5>
                        <div class="form-row">
                            <div class="col-md-6 mb-6">
                                <label for="email"></label>
                                <input name ="email" type="email" class="form-control" id="email" placeholder="Email">
                            </div>
                            <!-- <div class="col-md-6 mb-6">
                                <label for="validationCustomX"></label>
                                <input name="email2" type="email2" class="form-control" id="validationCustomX" placeholder="Confirmar email" required>
                                <div class="valid-feedback">
                                    Email válido
                                </div>
                            </div> -->
                            <div class="col-md-6 mb-6">
                                <label for="cmail"></label>
                                <input name ="cemail" type="email" class="form-control" id="cmail" placeholder="Confirmar email">
                            </div>  
                        </div>
                        <div class="form-row">
                            <div class="col-md-6 mb-6">
                                <label for="password"></label>
                                <input name="password" type="password" class="form-control" id="password" placeholder="Contraseña" name="password">    
                            </div>
                            <div class="col-md-6 mb-6">
                                <label for="cPassword"></label>
                                <input name="cPassword" type="password" class="form-control" id="cPassword" placeholder="Confirmar contraseña" name="cPassword">   
                            </div>
                            <% if (typeof errors == 'undefined') { %>
                                <div class="col-md-12 mb-12 mt-5">
                                    <div class="alert alert-success" role="alert" id="success">
                                        Tu usuario ha sido creado con éxito!
                                    </div>   
                                </div>
                            <% } %>
                        </div>
                    </div>
                    <div class="form-row">
                    </div>   
                </div>
                <div class="form-row mt-5">
                    <div class="col-12">
                        <button class="btn  boton-registro" type="submit">Crear cuenta</button>
                    </div>
                </div>
            </form>
            <form action="/users/avatar" method="post" enctype="multipart/form-data">
                <h5 class="acc-subs">Si no queres avatar simplemente dale a GO!</h5>
                <div class="row mt-3">
                    <div class="col-6">
                        <button class="btn  boton-registro" type="submit">GO!</button>
                    </div>
                    <div class="col-4">    
                        <div class="custom-file ">
                            <input type="file" class="custom-file-input" name="archivo" id="archivo" lang="es">
                            <label class="custom-file-label" for="archivo">Seleccionar Archivo</label>
                        </div>
                    </div>
                </div>
            </form>
            <script>
                // Example starter JavaScript for disabling form submissions if there are invalid fields
                (function() {
                    'use strict';
                    window.addEventListener('load', function() {
                        // Fetch all the forms we want to apply custom Bootstrap validation styles to
                        var forms = document.getElementsByClassName('needs-validation');
                        // Loop over them and prevent submission
                        var validation = Array.prototype.filter.call(forms, function(form) {
                            form.addEventListener('submit', function(event) {
                                if (form.checkValidity() === false) {
                                    event.preventDefault();
                                    event.stopPropagation();
                                }
                                form.classList.add('was-validated');
                            }, false);
                        });
                    }, false);
                })();
            </script>
        </section>   
    </main>
    <%- include('partials/footer') %>
</body>	
</html>
